!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a["Chartist.plugins.zoom"]=b()}(this,function(){return function(a,b,c){"use strict";function d(a){a.attr({style:"display:none"})}function e(a){a.attr({style:"display:block"})}function f(a,b){var c=a.x,d=a.y,e=b.x-c,f=b.y-d;return 0>e&&(e=-e,c=b.x),0>f&&(f=-f,d=b.y),{x:c,y:d,width:e,height:f}}function g(a,b){return h(a.clientX,a.clientY,b)}function h(a,b,c){var d="svg"===c.tagName?c:c.ownerSVGElement,e=d.getScreenCTM(),f=d.createSVGPoint();return f.x=a,f.y=b,f=f.matrixTransform(e.inverse()),f||{x:0,y:0}}function i(a,b){var c=b.bounds.max,d=b.bounds.min;if(b.scale&&"log"===b.scale.type){var e=b.scale.base;return Math.pow(e,a*j(c/d,e)/b.axisLength)*d}return a*b.bounds.range/b.axisLength+d}function j(a,b){return Math.log(a)/Math.log(b)}var k={};c.plugins=c.plugins||{},c.plugins.zoom=function(a){return a=c.extend({},k,a),function(b){function h(a){var b=g(a,u);return b.id=a.identifier,b}function j(a){for(var b=0;b<A.length;b++){var c=A[b].id;if(c===a)return b}return-1}function k(a){for(var b=a.changedTouches,c=0;c<b.length;c++)A.push(h(b[c]));A.length>1&&(t.attr(f(A[0],A[1])),e(t))}function l(a){for(var b=a.changedTouches,c=0;c<b.length;c++){var d=j(b[c].identifier);A.splice(d,1,h(b[c]))}A.length>1&&(t.attr(f(A[0],A[1])),e(t),a.preventDefault())}function m(a){n(a.changedTouches)}function n(a){for(var b=0;b<a.length;b++){var c=j(a[b].identifier);c>=0&&A.splice(c,1)}}function o(a){A.length>1&&r(f(A[0],A[1])),n(a.changedTouches),d(t)}function p(a){0===a.button&&(y=g(a,u),t.attr(f(y,y)),e(t),a.preventDefault())}function q(b){if(0===b.button&&y){var c=f(y,g(b,u));r(c),y=null,d(t),b.preventDefault()}else a.resetOnRightMouseBtn&&2===b.button&&(B(),b.preventDefault())}function r(a){if(a.width>5&&a.height>5){var c=a.x-x.x1,d=c+a.width,e=x.y1-a.y,f=e-a.height;b.options.axisX.highLow={low:i(c,v),high:i(d,v)},b.options.axisY.highLow={low:i(f,w),high:i(e,w)},b.update(b.data,b.options),z&&z(b,B)}}function s(a){if(y){var b=g(a,u);t.attr(f(y,b)),a.preventDefault()}}if(b instanceof c.Line){var t,u,v,w,x,y,z=a.onZoom,A=[];b.on("draw",function(a){var b=a.type;("line"===b||"bar"===b||"area"===b||"point"===b)&&a.element.attr({"clip-path":"url(#zoom-mask)"})}),b.on("created",function(a){v=a.axisX,w=a.axisY,x=a.chartRect,u=a.svg._node,t=a.svg.elem("rect",{x:10,y:10,width:100,height:100},"ct-zoom-rect"),d(t);var b=a.svg.querySelector("defs")||a.svg.elem("defs"),c=x.width(),e=x.height();b.elem("clipPath",{id:"zoom-mask"}).elem("rect",{x:x.x1,y:x.y2,width:c,height:e,fill:"white"}),u.addEventListener("mousedown",p),u.addEventListener("mouseup",q),u.addEventListener("mousemove",s),u.addEventListener("touchstart",k),u.addEventListener("touchmove",l),u.addEventListener("touchend",o),u.addEventListener("touchcancel",m)});var B=function(){b.options.axisX.highLow=null,b.options.axisY.highLow=null,b.update(b.data,b.options)}}}}}(window,document,Chartist),Chartist.plugins.zoom});
//# sourceMappingURL=chartist-plugin-zoom.min.js.map