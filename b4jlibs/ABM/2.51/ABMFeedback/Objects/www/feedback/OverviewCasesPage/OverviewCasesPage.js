// This WebApp/WebSite was generated using ABMaterial, a B4X library written by Alain Bailleul 2015-2016. See http://alwaysbusycorner.com/abmaterial/
$(window).resize(function() {$('.extrasidebar').sideNav('hide');if ($('.nav-wrapper').length>0) {var parWidth = $('.nav-wrapper').width();var myLeft = $('#pagenavbar').position().left;var myRight = 0;if ($('.nav-wrapper ul.right:last-child').length>0) {myRight = parWidth - $('.nav-wrapper ul.right:last-child').position().left;}$('#pagenavbar').outerWidth(parWidth-myLeft-myRight);}});function extrabar(id) {$('.extrasidebar:not("#' + id + '")').abmsideNav('hide');};function initplugins(){$('.materialboxed').materialbox();$('.tooltipped').tooltip({delay:50});$('.collapsible').collapsible();InitEditEnterFields();$('#sidenavbutton').on('click', function() {$('.dropdown-content').hide();});$('.dropdown-button2').dropdown2();runupload();}
function reinitmaterialbox(id) {$('#' + id).materialbox();}
function reinitcollapsable(id) {initcollapse(id);}
function reinitdropdown(id) {$(".dropdown-button").dropdown();}
function reinitcombo(id) {$('#' + id).dropdown2();}
function reinituploads() {runupload();}
function reinitinputfields() {InitEditEnterFields();TextAreaAllResize();$('.dropdown-button2').dropdown2();}
function inittooltipped(id){$('#' + id).tooltip({delay:50});};function inittable(id, hasscroll, sortable, collapsable) {if (collapsable) {$('#' + id).treetable({expandable: true,stringCollapse: $('#' + id).attr('colstring'),stringExpand: $('#' + id).attr('expstring')});$(this).closest('tbody').children('tr').each(function() {$(this).removeClass("abmselected");});$(this).closest('tr').addClass("abmselected");$('#' + id + ' td').off('mouseup touchend').on('mouseup touchend', function(e) {if ($(this).attr('id').slice(0, 5) == 'empty') {return;}if ($(this).closest('tr').is("[data-tt-drag]")) {var tablename = $('#' + id).attr('name');var evname = $('#' + id).attr('evname');var currthis = $(this);var treerowid = $(this).closest('tr').attr('data-tt-id');b4j_raiseEvent('page_parseevent', {'eventname': evname + '_clicked','eventparams': 'treerowid,treecellid','treerowid': treerowid,'treecellid': currthis.attr('id')});return;}var tablename = $('#' + id).attr('name');var currthis = $(this);var treerowid = $(this).closest('tr').attr('data-tt-id');if (e.stopPropagation) {e.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}b4j_raiseEvent('page_parseevent', {'eventname': evname + '_clicked','eventparams': 'treerowid,treecellid','treerowid': treerowid,'treecellid': currthis.attr('id')});});return;}if (sortable) {sorttable.makeSortable(document.getElementById(id))}if (hasscroll) {jQuery('#' + id).ABMTableScroll();}if ($('#' + id).hasClass('tableinteractive')) {$('#' + id + ' tbody td').off('mouseup touchend').on('mouseup touchend', function(e) {var tablename = $('#' + id).attr('name');var evname = $('#' + id).attr('evname');var currthis = $(this);$('#' + tablename + ' tr').children('td').each(function() {$(this).removeClass("selected");});currthis.closest('tr').children('td').each(function() {$(this).addClass("selected");});if (e.stopPropagation) {e.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}b4j_raiseEvent('page_parseevent', {'eventname': evname + '_clicked','eventparams': 'abmistable,target','abmistable': 'abmistable','target': currthis.attr('id')});});$('#' + id + ' th').off('mouseup touchend').on('mouseup touchend', function(e) {var tablename = $('#' + id).attr('name');var evname = $('#' + id).attr('evname');var currthis = $(this);var order = 'ASC';if ($(this).hasClass('sorttable_nosort')) {return;}if ($(this).hasClass('sorttable_sorted')) {order = 'DESC';}if ($(this).hasClass('sorttable_sorted_reverse')) {order = 'ASC';}if (e.stopPropagation) {e.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}b4j_raiseEvent('page_parseevent', {'eventname': evname + '_sortchanged','eventparams': 'datafield,order','datafield': currthis.attr('fieldname'),'order': order});});}$('[contenteditable=true]').focus(function() {$(this).data('initialText', $(this).html());var el = document.getElementById($(this).attr('id'));requestAnimationFrame(function() {selectElementContents(el);});});$('[contenteditable=true]').blur(function() {if ($(this).data('initialText') !== $(this).html()) {var sp = $(this).attr('id').split('_');var row = sp[1];var col = sp[2];b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed', 'eventparams': 'row,column,value', 'row': row, 'column': col, 'value': $(this).html()});}});};function gettablestringvalue(id,cellid){return $('#' + cellid).text();};function replacemewith(id,html) {$('#' + id).replaceWith(html);}function replacemeinnerwith(id,html) {$('#' + id).html(html);}function replacemewithresetpos(id,html,scrollid,tableid,hasscroll,sortable,collapsable, realid) {var currpos=SaveTablePosition(scrollid);$('#' + id).replaceWith(html);inittable(tableid,hasscroll,sortable,collapsable);RestoreTablePosition(scrollid,currpos);}function initboxed(){$('.materialboxed').materialbox();};function inittooltipped(){$('.tooltipped').tooltip({delay:50});};function initcollapse(id){setactiveheaders(gahret);$('#' + id).collapsible();};function initdropdown(){$('.dropdown-button2').dropdown2();};function SetDisabled(item, b) {$('#' + item).prop('disabled', b)}function SetChecked(item, b) {$('#' + item).prop('checked', b)}function EmptyMe(id) {$('#' + id).empty();}function RemoveMe(id) {$('#' + id).remove();}function RemoveBubbles(id) {$('.bubble-typing'+id).remove();}function RemoveMeParent(id) {$('#' + id).parent().remove();}function AddHTMLPageComponent(html) {$('main').append(html);}function AddHTML(parentid, html) {$('#' + parentid).append(html);}function AddHTMLToMain(html) {$('main').append(html);}function InsertHTMLAfter(parentid, html) {$(html).insertAfter($('#' + parentid));}function InsertHTMLBefore(parentid, html) {$(html).insertBefore($('#' + parentid));}function AddClass(id, cl) {$('#' + id).addClass(cl);}function RemoveClass(id, cl) {$('#' + id).removeClass(cl);}function RunToast(duration, rounded, html, extra, backgroundcolor) {Materialize.toast(html, duration, rounded, function(){b4j_raiseEvent('page_parseevent',{'eventname':'page_toastdismissed','eventparams':'toastid','toastid':extra})});$('#' + extra).parent().css('background-color', backgroundcolor);}function RunToastNoConnection(counter) {Materialize.toast('<span id="toasterror' + counter + '" class="white-text">No connection!</span>',5000,'rounded');$('#toasterror'+counter).parent().css('background-color','#FF0000');}function toastclick(extra, butid) {b4j_raiseEvent('page_parseevent', {'eventname':'page_toastclicked','eventparams':'toastid,action','toastid':extra,'action':butid});}function dismisstoast(toastid) {Vel($('#' + toastid).parent(), {'opacity':0,marginTop:'-40px'},{duration:375,easing:'easeOutExpo',queue:false,complete:function(){$('#' + toastid).parent().remove();}});}function navclick(page, item, url) {if (item!='togglefullscreen') {if ($('#sidenavbutton').is(':visible')) {$('.button-collapse').sideNav('hide');}b4j_raiseEvent('page_parseevent', {'eventname': 'page_navigationbarclicked','eventparams': 'action,value', 'action': item, 'value': url});}}function SetProperty(id, name, value) {$('#' + id).attr(name, value);}function GetProperty(id, name) {return $('#' + id).attr(name);}function SetCSS(id, name, value) {$('#' + id).css(name, value);}function GetCSS(id, name) {return $('#' + id).css(name);}function RemoveProperty(id, name) {$('#' + id).removeAttr(name);}function ShowModal(id, dismissible, size) {initdropdown();runupload();InitEditEnterFields();$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).openModal({'dismissible': dismissible, 'end_top': size, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function ShowModalRelativeCell(id, dismissible, tlcellid, cellwidth) {initdropdown();runupload();InitEditEnterFields();var tlcell=$('#' + tlcellid);var mleft=tlcell.offset().left;var mtop=tlcell.offset().top;var windowHeight;if (self.innerHeight) {windowHeight = self.innerHeight;} else if (document.documentElement && document.documentElement.clientHeight) {windowHeight = document.documentElement.clientHeight;} else if (document.body) {windowHeight = document.body.clientHeight;}if ((tlcell[0].getBoundingClientRect().top+tlcell.height()/2)>windowHeight/2) {mtop-=$('#' + id).height();} else {mtop+=tlcell.height();}var mwidth=tlcell.outerWidth();var counter=1;tlcell.siblings().each(function() {if ((counter<cellwidth) && (tlcellid<$(this).attr('id'))) {mwidth+=$(this).outerWidth();counter++;}});$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).css({position: 'absolute',margin: 0, left: mleft, width: mwidth});$('#' + id).openModal({'dismissible': dismissible, 'end_top': mtop, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$('body').css('overflow', '');$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function ShowModalRelativeComponent(id, dismissible, tlcellid, fixedwidth) {initdropdown();runupload();InitEditEnterFields();var tlcell=$('#' + tlcellid);var mleft=tlcell.offset().left;var mtop=tlcell.offset().top;var windowHeight;if (self.innerHeight) {windowHeight = self.innerHeight;} else if (document.documentElement && document.documentElement.clientHeight) {windowHeight = document.documentElement.clientHeight;} else if (document.body) {windowHeight = document.body.clientHeight;}if ((tlcell[0].getBoundingClientRect().top+tlcell.height()/2)>windowHeight/2) {mtop-=$('#' + id).height();} else {mtop+=tlcell.height();}$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).css({position: 'absolute',margin: 0, left: mleft, width: fixedwidth});$('#' + id).openModal({'dismissible': dismissible, 'end_top': mtop, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$('body').css('overflow', '');$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function ShowModalAbsolute(id, dismissible, mleft, mtop, mwidth, mheight) {initdropdown();runupload();InitEditEnterFields();$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).css({margin: 0, left: mleft, width: mwidth, height: mheight});$('#' + id).openModal({'dismissible': dismissible, 'end_top': mtop, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$(window).trigger('resize');Materialize.updateTextFields();}function ReShowModal(id) {initdropdown();runupload();InitEditEnterFields();$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function CloseModal(id) {$('#' + id).closeModal({complete: function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});}function fadeinimg(id) {Materialize.fadeInImage('#' + id);}function buttonclickarray(event, par, arrayname, button) {if($('#' + par + arrayname + button).hasClass('disabled')) {return;}if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': button + '_clicked','eventparams': 'target', 'target': button});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': button});}}function labelclickarray(event, par, arrayname, label) {if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': label + '_clicked','eventparams': 'target', 'target': label});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': label});}}function plannerclickarray(event, par, arrayname, plan, retid) {if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': plan + '_clicked','eventparams': 'target,returnid', 'target': plan, 'returnid': retid});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target,returnid', 'target': plan, 'returnid': retid});}}function imageclickarray(event, par, arrayname, image) {if($('#' + par + arrayname + image).hasClass('disabled')) {return;}if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': image + '_clicked','eventparams': 'target', 'target': image});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': image});}}function chipclickarray(event, par, arrayname, chip) {if($('#' + par + arrayname + chip).hasClass('disabled')) {return;}if (arrayname=='') {setTimeout(function() { b4j_raiseEvent('page_parseevent', {'eventname': chip + '_clicked','eventparams': 'target', 'target': chip});}, 100);} else {setTimeout(function() { b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': chip});}, 100);}}function chipclosedarray(event, par, arrayname, chip) {if($('#' + par + arrayname + chip).hasClass('disabled')) {return;}if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': button + '_closed','eventparams': 'target', 'target': chip});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_closed','eventparams': 'target', 'target': chip});}}function actionbuttonclickarray(event, par, arrayname, button, subbutton) {if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': button + '_clicked','eventparams': 'target,subtarget', 'target': button, 'subtarget': subbutton});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target,subtarget', 'target': button, 'subtarget': subbutton});}}function paginationclickarray(event, par, pagid, pagtype, pagenumber,lastpagenumber) {if (event.stopPropagation) {event.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}var oldpagenumber=0;$('#' + par + pagid).children('button').each(function() {if ($(this).hasClass('selected')) {oldpagenumber=parseInt($(this).children(':first').text());}});switch (pagtype) {case 'first':pagenumber=1;break;case 'last':pagenumber=lastpagenumber;break;case 'prev':if (oldpagenumber>1) {pagenumber=oldpagenumber-1;} else {pagenumber=1;}break;case 'next':if (oldpagenumber<lastpagenumber) {pagenumber=oldpagenumber+1;} else {pagenumber=lastpagenumber;}break;default:}if (pagenumber!=oldpagenumber) {b4j_raiseEvent('page_parseevent', {'eventname': pagid + '_pagechanged','eventparams': 'oldpage,newpage', 'oldpage': oldpagenumber, 'newpage': pagenumber});}}function imagetogglearray(event, par, id, state, src, src2) {if($('#' + par + id).hasClass('disabled')) {return;}$('#' + par + id).attr('abmtoggle', state);$('#' + par + id).attr('src', src);if (state=='0') {$('#' + par + id).attr('onclick', "imagetogglearray(event,'" + par + "','" + id + "','1','" + src2 + "','" + src + "')");} else {$('#' + par + id).attr('onclick', "imagetogglearray(event,'" + par + "','" + id + "','0','" + src2 + "','" + src + "')");}};function comboclickarray(event, par, arrayname, combo, item, itemid) {if($('#' + par + arrayname + combo).hasClass('disabled')) {return;}$('#' + par + combo).attr('value', item);$('#' + par + combo).attr('returnid', itemid);if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': combo + '_clicked','eventparams': 'itemid', 'itemid': itemid});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'itemid', 'itemid': itemid});}}function inputscrollintofocus(id,smooth) {if (smooth=='0') {$('#' + id).scrollIntoView(false);} else {$('#' + id).scrollIntoView();}}
function tablescrollto(tableid, uniqueid, smooth) {var inner = tableid + '_innerbody';var ypos = $('#' + inner).find('[uniqueid="' + uniqueid + '"]').offset().top;if (smooth=='0') {$('#' + inner).scrollTop($('#' + inner).scrollTop()+ypos);} else {$('#' + inner).animate({scrollTop: $('#' + inner).scrollTop()+ypos}, 300);}}
function inputsetfocus(id) {$('#' + id).focus();}
function getactivetablerow(id) {var ret = '';if (document.getElementById(id)=='undefined') {return ret;};$('#' + id + ' tbody').children('tr').each(function() {var currthis = $(this);var tablename = currthis.attr('name');$(this).children('td').each(function() {if ($(this).hasClass('selected')) {ret = currthis.attr('uniqueid');activetablerows['#' + id] = ret;return ret;}});});activetablerows['#' + id] = ret;return ret;};function getsortcolumn(id) {var ret = '';if (document.getElementById(id)=='undefined') {return ret;};$('#' + id + ' thead tr').children('th').each(function() {if ($(this).hasClass('sorttable_sorted')) {ret = $(this).attr('fieldname');}if ($(this).hasClass('sorttable_sorted_reverse')) {ret = 'DESC_' + $(this).attr('fieldname');}});return ret;};function setsortcolumn(id, fieldname, order) {if (document.getElementById(id)=='undefined') {return;};if (fieldname=='') {return};$('#' + id + ' thead tr').children('th').each(function() {if ($(this).attr('fieldname')==fieldname) {sorttable.innerSortFunction.apply($(this)[0], []);if (order=='DESC') {sorttable.innerSortFunction.apply($(this)[0], []);}}});};function setactivetablerow(id,uniqueid) {if (document.getElementById(id)=='undefined') {return;};$('#' + id + ' tbody').children('tr').each(function() {if ($(this).attr('uniqueid')==uniqueid) {$(this).children('td').addClass("selected");} else {$(this).children('td').removeClass("selected");}});activetablerows['#' + id]=uniqueid;};var gahret=[];function getactiveheaders(id) {gahret=[];$('#' + id).children('li').children('div').each(function () {if ($(this).hasClass('active')){gahret.push($(this).attr('id'));}});};function setactiveheaders(gahret) {var arrayLength = gahret.length;for (var i = 0; i < arrayLength; i++) {$('#' + gahret[i]).addClass('active');$('#' + gahret[i]).addClass('active2');}};function HasClass(id, cl) {var ret='false';if ($('#' + id).hasClass(cl)) {ret='true';}return ret;};function TextAreaResize(item) {$('#' + item).trigger('autoresize')};function TextAreaAllResize() {$('.materialize-textarea').trigger('autoresize')};function saveinlocalstorage(app,login,pwd) {if(typeof(Storage) !== "undefined") {localStorage.setItem('abm' + app + 'login', login);localStorage.setItem('abm' + app + 'pwd', pwd);}};function loadfromlocalstorage(app) {if(typeof(Storage) !== "undefined") {var v1=localStorage.getItem('abm' + app + 'login');var v2=localStorage.getItem('abm' + app + 'pwd');if (v1!==null && v2!==null && v1!=='undefined' && v2!=='undefined' && v1!=='' && v2!=='') {return localStorage.getItem('abm' + app + 'login') + ';' + localStorage.getItem('abm' + app + 'pwd');}}return '';};function clearlocalstorage(app) {if(typeof(Storage) !== "undefined") {localStorage.removeItem('abm' + app + 'login');localStorage.removeItem('abm' + app + 'pwd');}};function customsaveinlocalstorage(key,value) {if(typeof(Storage) !== "undefined") {localStorage.setItem(key, value);}};function customloadfromlocalstorage(key) {if(typeof(Storage) !== "undefined") {return localStorage.getItem(key);}};function customdeletefromlocalstorage(key) {if(typeof(Storage) !== "undefined") {localStorage.removeItem(key);}};function getbrowserwidthheight() {return window.outerWidth+';'+window.outerHeight;};function selectElementContents(el) {var range = document.createRange();range.selectNodeContents(el);var sel = window.getSelection();sel.removeAllRanges();sel.addRange(range);};function InitEditEnterFields() {$('input').off('keydown').on('keydown', function(e) {if (e.keyCode == "undefined") { return };var codeToExecute = 'return ' + $(this).attr('evname') + '_b4jskeydown("' + $(this).val() + '",' + e.keyCode + ')';var tmpFunc = new Function(codeToExecute);var fret=false;try { fret = tmpFunc()} catch(err) {}});$('input').off('keyup').on('keyup', function(e) {if (e.keyCode == "undefined") { return };var codeToExecute = 'return ' + $(this).attr('evname') + '_b4jskeyup("' + $(this).val() + '",' + e.keyCode+ ')';var tmpFunc = new Function(codeToExecute);var fret=false;try { fret = tmpFunc()} catch(err) {}if (fret==false) {var done=false;if (e.keyCode==9) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_tabpressed','eventparams': 'target,value', 'target':$(this).attr('evname') ,'value':$(this).val()});done=true;}if(e.keyCode==13) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_enterpressed','eventparams': 'value', 'value':$(this).val()});done=true;}if (done==false) {if ($(this).hasClass('raisechanged')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});}if ($(this).hasClass('raisechangedcheck')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});if ($(this).hasClass('validateabm')) {$(this).removeClass("invalid");$(this).removeClass("valid");if ($(this).val().length==0) {$(this).addClass("invalid");} else {$(this).addClass("valid");}};}}}});$('input').off('change paste').on('change paste', function(e) {if (e.keyCode == "undefined") { return };var codeToExecute = 'return ' + $(this).attr('evname') + '_b4jschanged("' + $(this).val() + '")';var tmpFunc = new Function(codeToExecute);var fret=false;try { fret = tmpFunc()} catch(err) {}if (fret==false) {if ($(this).hasClass('raisechanged')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});}if ($(this).hasClass('raisechangedcheck')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});if ($(this).hasClass('validateabm')) {$(this).removeClass("invalid");$(this).removeClass("valid");if ($(this).val().length==0) {$(this).addClass("invalid");} else {$(this).addClass("valid");}};}}});}$.fn.dropdown2=function(a){var b={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1,alignment:"left"};this.each(function(){function c(){void 0!==f.data("induration")&&(g.inDuration=f.data("inDuration")),void 0!==f.data("outduration")&&(g.outDuration=f.data("outDuration")),void 0!==f.data("constrainwidth")&&(g.constrain_width=f.data("constrainwidth")),void 0!==f.data("hover")&&(g.hover=f.data("hover")),void 0!==f.data("gutter")&&(g.gutter=f.data("gutter")),void 0!==f.data("beloworigin")&&(g.belowOrigin=f.data("beloworigin")),void 0!==f.data("alignment")&&(g.alignment=f.data("alignment"))}function d(){c(),$("#"+f.attr("id")+"label").css("color",$("#"+f.attr("id")+"label").attr("activecolor")),h.addClass("active"),g.constrain_width===!0?h.css("width",f.outerWidth()):h.css("white-space","nowrap");var a=0;g.belowOrigin===!0&&(a=f.height());var b,d,e,i=f.offset().left;i+h.innerWidth()>$(window).width()?g.alignment="right":i-h.innerWidth()+f.innerWidth()<0&&(g.alignment="left"),"left"===g.alignment?(d=0,e=g.gutter,b=f.position().left+d+e,h.css({left:b})):"right"===g.alignment&&($(window).width()-i-f.innerWidth(),d=0,e=g.gutter,b=$(window).width()-f.position().left-f.innerWidth()+e,h.css({right:b})),h.css({position:"absolute",top:f.position().top+a}),h.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:g.inDuration,easing:"easeOutCubic",complete:function(){$(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:g.inDuration,easing:"easeOutSine"})}function e(){h.fadeOut(g.outDuration),h.removeClass("active"),$(f).removeClass("invalid"),$(f).removeClass("valid"),$("#"+f.attr("id")+"label").css("color",$("#"+f.attr("id")+"label").attr("inactivecolor")),0==f.val().length?($(f).addClass("invalid"),$("#"+f.attr("id")+"label").removeClass("active")):($(f).addClass("valid"),$("#"+$("#"+f.attr("id")+"label").attr("iconid")).css("color",$("#"+f.attr("id")+"label").attr("activecolor")),$("#"+f.attr("id")+"label").addClass("active"))}var f=$(this),g=$.extend({},b,a),h=$("#"+f.attr("data-activates"));if(label=$("#"+f.attr("id")+"label"),c(),f.after(h),g.hover){var i=!1;f.unbind("click."+f.attr("id")),f.on("mouseenter",function(){i===!1&&(d(),i=!0)}),f.on("mouseleave",function(a){var b=a.toElement||a.relatedTarget;$(b).closest(".dropdown-content").is(h)||(h.stop(!0,!0),e(),i=!1)}),h.on("mouseleave",function(a){var b=a.toElement||a.relatedTarget;$(b).closest(".dropdown-button2").is(f)||(h.stop(!0,!0),e(),i=!1)})}else f.unbind("click."+f.attr("id")),f.bind("click."+f.attr("id"),function(a){f[0]==a.currentTarget&&0===$(a.target).closest(".dropdown-content").length?d():f.hasClass("active")&&(e(),$(document).unbind("click."+h.attr("id"))),h.hasClass("active")&&$(document).bind("click."+h.attr("id"),function(a){!h.is(a.target)&&!f.is(a.target)&&!f.find(a.target).length>0&&(e(),$(document).unbind("click."+h.attr("id")))}),f.on("keydown",function(a){9==a.keyCode&&e()})});f.on("open",d),f.on("close",e),0==f.val().length?$("#"+f.attr("id")+"label").removeClass("active"):$("#"+f.attr("id")+"label").addClass("active")})};
var abmb4jswrapper = function() {String.prototype.equalsIgnoreCase = function(otherString) {return (this.toUpperCase().localeCompare(otherString.toUpperCase())==0);};String.prototype.contains = function(otherString) {return (this.indexOf(otherString)>-1);};String.prototype.getBytes = function() {var utf8 = [];var str = this;for (var i=0; i < str.length; i++) {var charcode = str.charCodeAt(i);if (charcode < 0x80) utf8.push(charcode);else if (charcode < 0x800) {utf8.push(0xffffffc0 | (charcode >> 6), 0xffffff80 | (charcode & 0x3f));} else if (charcode < 0xd800 || charcode >= 0xe000) {utf8.push(0xffffffe0 | (charcode >> 12), 0xffffff80 | ((charcode>>6) & 0x3f), 0xffffff80 | (charcode & 0x3f));} else {utf8.push(0xef, 0xbf, 0xbd);}}return utf8;};this.bytesToString = bytesToString = function(array) {var str = '',i;var data = new Uint8Array(array);for (i = 0; i < data.length; i++) {var value = data[i];if (value < 0x80) {str += String.fromCharCode(value);} else if (value > 0xBF && value < 0xE0) {str += String.fromCharCode((value & 0x1F) << 6 | data[i + 1] & 0x3F);i += 1;} else if (value > 0xDF && value < 0xF0) {str += String.fromCharCode((value & 0x0F) << 12 | (data[i + 1] & 0x3F) << 6 | data[i + 2] & 0x3F);i += 2;}}return str;};this.getB4JKeyAt = getB4JKeyAt = function(outof, index) {var getkeyatkeycounter=0;for (var getkeyatkey in outof) {if (outof.hasOwnProperty(getkeyatkey)) {if (getkeyatkeycounter==index) {return getkeyatkey;}getkeyatkeycounter++;}}return '';};this.getB4JValueAt = getB4JValueAt = function(outof, index) {var getkeyatkeycounter=0;for (var getkeyatkey in outof) {if (outof.hasOwnProperty(getkeyatkey)) {if (getkeyatkeycounter==index) {return outof[getkeyatkey];}getkeyatkeycounter++;}}return '';};};var b4js=new abmb4jswrapper();