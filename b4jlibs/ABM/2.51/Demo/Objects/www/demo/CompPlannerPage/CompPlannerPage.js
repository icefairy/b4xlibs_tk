// This WebApp/WebSite was generated using ABMaterial, a B4X library written by Alain Bailleul 2015-2016. See http://alwaysbusycorner.com/abmaterial/
$(window).resize(function() {resizecells();$('.extrasidebar').sideNav('hide');if ($('.nav-wrapper').length>0) {var parWidth = $('.nav-wrapper').width();var myLeft = $('#pagenavbar').position().left;var myRight = 0;if ($('.nav-wrapper ul.right:last-child').length>0) {myRight = parWidth - $('.nav-wrapper ul.right:last-child').position().left;}$('#pagenavbar').outerWidth(parWidth-myLeft-myRight);}plannernamenu.retract(0);plannerccpmenu.retract(0);ResizePlanner();});$(window).off('mouseup touchend').on('mouseup touchend', function() {plannernamenu.retract(0);plannerccpmenu.retract(0);});function extrabar(id) {$('.extrasidebar:not("#' + id + '")').abmsideNav('hide');};function resizecells() {$('[data-fixedbottom]').each(function() {var bheight = $(this).data('fixedbottom');var newHeight=window.innerHeight - $(this).offset().top - parseInt($(this).css('padding-top')) - parseInt($(this).css('padding-bottom')) - bheight;$(this).height(newHeight);});};function initplugins(){$('.materialboxed').materialbox();$('.tooltipped').tooltip({delay:50});$('.collapsible').collapsible();InitEditEnterFields();$('#sidenavbutton').on('click', function() {$('.dropdown-content').hide();});InitializeWeekviews();;resizecells();}
var ABMPlanner = function(menuContainer, options) {var parentel = $('.abmplannerwrapper');var parent = parentel.attr('id');var ename = parentel.attr('eName');menuContainer.children().each(function() {var iconRadius = $(this).width() / 2;$(this).css({'border-radius': iconRadius + 'px','top': '-' + iconRadius + 'px','left': '-' + iconRadius + 'px','line-height': $(this).width() + 'px'});$(this).off('mouseup touchend').on('mouseup touchend', function() {if (event.stopPropagation) {event.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}event.preventDefault();plannerSleeping=true;var radius = 0,icons = menuContainer.children(),width = 300,height = 200,angle = rotate,step = (2 * Math.PI) / icons.length / settings.circleSize;icons.each(function() {var x = Math.round(width / 2 + radius * Math.cos(angle) - $(this).width() / 2);var y = Math.round(height / 2 + radius * Math.sin(angle) - $(this).height() / 2);$(this).animate({left: x + 'px',top: y + 'px',margin: '0px',opacity: 0}, {duration: 150,queue: false,complete: function() {menuContainer.css({top: '0px',left: '0px',display: 'none'});menuContainer.attr('isopen', '');if (plannerSleep) {clearTimeout(plannerSleep);}plannerSleep = setTimeout(function() {plannerSleeping=false;}, 150)}});angle += step;});var btnType = $(this).attr('data-id');if (plannercurrday != '') {plannerAction = btnType + ';day;' + plannercurrday;b4j_raiseEvent('page_parseevent', {'eventname': ename + '_menuclicked','eventparams': 'menutype,value','menutype': 'day','value': btnType + ';' + plannercurrday});} else {if (plannercurrhour != '') {plannerAction = btnType + ';hour;' + plannercurrhour;b4j_raiseEvent('page_parseevent', {'eventname': ename + '_menuclicked','eventparams': 'menutype,value','menutype': 'hour','value': btnType + ';' + plannercurrhour});} else {plannerAction = '';if (btnType == 5 || btnType == 6) {plannermode = 1;} else {if (PlannerLastBtnType!=5) {plannermode = 0;}}b4j_raiseEvent('page_parseevent', {'eventname': ename + '_menuclicked','eventparams': 'menutype,value','menutype': 'min','value': btnType + ';' + plannercurrmin});}}if (btnType!=4) {PlannerLastBtnType = btnType;}});});var settings = $.extend({rotate: 0,radius: 200,circleSize: 2,speed: 500}, options);if (settings.rotate == 0) {var rotate = 0;} else {var rotate = (Math.PI) * 2 * settings.rotate / 360;}if (settings.circleSize == 0) {var rotate = 0;} else {var circleSize = settings.circleSize;}this.expand = function(caller, e) {var parentel = caller.closest('.abmplannerwrapper');if (menuContainer.hasClass('plannerccpmenu-container')) {switch (plannermode) {case -1:$('.plannerccpmenu-item[data-id=3]').addClass('hide');$('.plannerccpmenu-item[data-id=5]').addClass('hide');$('.plannerccpmenu-item[data-id=6]').addClass('hide');$('.plannerccpmenu-item[data-id=4]').addClass('hide');break;case 0:$('.plannerccpmenu-item[data-id=3]').removeClass('hide');$('.plannerccpmenu-item[data-id=5]').removeClass('hide');$('.plannerccpmenu-item[data-id=6]').removeClass('hide');$('.plannerccpmenu-item[data-id=4]').addClass('hide');break;case 1:var txt = caller.find('p').html();if (txt == '&nbsp;') {$('.plannerccpmenu-item[data-id=3]').removeClass('hide').addClass('hide');$('.plannerccpmenu-item[data-id=5]').addClass('hide');$('.plannerccpmenu-item[data-id=6]').addClass('hide');$('.plannerccpmenu-item[data-id=4]').removeClass('hide');} else {$('.plannerccpmenu-item[data-id=3]').removeClass('hide');$('.plannerccpmenu-item[data-id=5]').removeClass('hide');$('.plannerccpmenu-item[data-id=6]').removeClass('hide');if (txt == '‚Üê') {$('.plannerccpmenu-item[data-id=4]').removeClass('hide');} else {$('.plannerccpmenu-item[data-id=4]').removeClass('hide').addClass('hide');}}break;}}var radius = settings.radius,icons = menuContainer.children(':not(.hide)'),width = 300,height = 200,step = (2 * Math.PI) / icons.length / settings.circleSize,angle = rotate + (step / 2);menuContainer.position({"my": "center center","at": "center center","of": caller,"extra": parentel});menuContainer.css({display: 'block'});var extra=0;if (caller.width()<220) {if (menuContainer.position().left-parentel.offset().left<=0) {var rotatetmp = (Math.PI) * 2 * 270 / 360;angle = rotatetmp + (step / 2);extra = 50;}if (menuContainer.position().left+260-parentel.offset().left>parentel.width()) {var rotatetmp = (Math.PI) * 2 * 90 / 360;angle = rotatetmp + (step / 2);extra = 50;}}icons.each(function() {var x = Math.round(width / 2 + radius * Math.cos(angle) - $(this).width() / 2);var y = Math.round(height / 2 + radius * Math.sin(angle) - $(this).height() / 2);$(this).animate({left: x + 'px',top: (y + extra) + 'px',margin: '0px',opacity: 1}, {duration: 250,queue: false,complete: function() {menuContainer.attr('isopen', 'true');}});angle += step;});};this.retract = function(speed) {plannerSleeping=true;var radius = 0,icons = menuContainer.children(),width = 300,height = 200,angle = rotate,step = (2 * Math.PI) / icons.length / settings.circleSize;icons.each(function() {var x = Math.round(width / 2 + radius * Math.cos(angle) - $(this).width() / 2);var y = Math.round(height / 2 + radius * Math.sin(angle) - $(this).height() / 2);$(this).animate({left: x + 'px',top: y + 'px',margin: '0px',opacity: 0}, {duration: speed,queue: false,complete: function() {menuContainer.css({top: '0px',left: '0px',display: 'none'});menuContainer.attr('isopen', '');if (plannerSleep) {clearTimeout(plannerSleep);}if (speed>0) {plannerSleep = setTimeout(function() {plannerSleeping=false;}, 150)} else {plannerSleeping=false;}}});angle += step;});};};
var plannernamenu = new ABMPlanner($('.plannernamenu-container'), {rotate: 0,	radius:110,	circleSize: 2});var plannerccpmenu = new ABMPlanner($('.plannerccpmenu-container'), {rotate: 0,	radius:110,	circleSize: 2});var abmdragging=false;$('body').on('touchmove', function(){abmdragging = true;});$('body').on('touchstart', function(){abmdragging = false;});var plannerStartTime;var plannercurrday='';var plannercurrhour='';var plannercurrmin='';var plannermode=0;var plannerIsDown=false;var plannerTimer;var PlannerLastBtnType;var plannerSleep;var plannerSleeping=false;function InitializeWeekviews() {ResizePlanner();$('.abmday').off('mouseup touchend').on('mouseup touchend', function(event) {plannercurrday = '';plannercurrhour = '';plannerccpmenu.retract(0);if (plannerSleeping) return;if (abmdragging) return;var el = $(this);var parentel = el.closest('.abmplannerwrapper');var parent = parentel.attr('id');var ename = parentel.attr('eName');if (parentel.data('viewtype')=='nw') {if (el.hasClass('abmactivenw')) {if ($(".plannernamenu-container").css('display')=='none') {plannercurrday = $(this).attr('data-dayn');plannernamenu.expand(el, event);} else {plannernamenu.retract(150);}} else {plannernamenu.retract(0);var day=el.data('day');var act = $('#' + parent).find('.abmactivenw');act.find('.abmhour').removeClass('abmactivenw');act.find('.abmwho').addClass('abmhidden');act.removeClass('abmactivenw');var dayel = $('#' + parent).find('[data-day="' + day + '"]');dayel.addClass('abmactivenw');dayel.find('.abmwho').removeClass('abmhidden');dayel.find('.abmhour').addClass('abmactivenw');var days={'MA': 0,'DI': 1,'WO': 2,'DO': 3,'VR': 4,'ZA': 5,'ZO': 6};planners[parent]=days[day];b4j_raiseEvent('page_parseevent', {'eventname': ename + '_activedaychanged','eventparams': 'day','day': days[day]});}} else {if (el.hasClass('abmactive')) {if ($(".plannernamenu-container").css('display')=='none') {plannercurrday = $(this).attr('data-dayn');plannernamenu.expand(el, event);} else {plannernamenu.retract(150);}} else {plannernamenu.retract(0);var day=el.data('day');var act = $('#' + parent).find('.abmactive');act.find('.abmhour').removeClass('abmactive');act.find('.abmwho').addClass('abmhidden');act.removeClass('abmactive');var dayel = $('#' + parent).find('[data-day="' + day + '"]');dayel.addClass('abmactive');dayel.find('.abmwho').removeClass('abmhidden');dayel.find('.abmhour').addClass('abmactive');var days={'MA': 0,'DI': 1,'WO': 2,'DO': 3,'VR': 4,'ZA': 5,'ZO': 6};planners[parent]=days[day];b4j_raiseEvent('page_parseevent', {'eventname': ename + '_activedaychanged','eventparams': 'day','day': days[day]});}}PositionPlanner(el, parent);if (event.stopPropagation) {event.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}event.preventDefault();});$('.abmhc').off('mousedown touchstart').on('mousedown touchstart', function(e) {plannercurrday = '';plannercurrhour = '';plannernamenu.retract(0);if (plannerSleeping) return;if (abmdragging) return;var el = $(this);var parentel = el.closest('.abmplannerwrapper');var parent = parentel.attr('id');var status = 0;if (el.closest('.abmhr').hasClass('abmna')) {status += 1;};var value = el.data('val');var taskid = el.attr('data-id');if (taskid != '') {status += 2;} else {taskid = 'FREE';}var txt = el.find('p').html();if (plannermode == -1) {plannermode = 0;}if (txt == '&nbsp;') {if (PlannerLastBtnType != 5) {if (plannermode == 0) {plannermode = -1;}}}plannercurrmin = value + ';' + status + ';' + taskid;plannerStartTime = e.timeStamp;if (plannerTimer) {clearTimeout(plannerTimer);}if (parentel.data('viewtype') == 'nw') {if (el.closest('.abmplannerdaynw').hasClass('abmactivenw')) {plannerIsDown = true;plannerTimer = setTimeout(function () {if ($(".plannerccpmenu-container").css('display') == 'none') {plannerccpmenu.expand(el, event);}}, 350)} else {plannerIsDown=false;}} else {if (el.closest('.abmplannerday').hasClass('abmactive')) {plannerIsDown = true;plannerTimer = setTimeout(function () {if ($(".plannerccpmenu-container").css('display') == 'none') {plannerccpmenu.expand(el, event);}}, 350)} else {plannerIsDown=false;}}});
$('.plannerccpmenu-container').off('mousedown touchstart').on('mousedown touchstart', function(e) {plannerIsDown=false;});
$('.plannerccpmenu-container').off('mouseup touchend').on('mouseup touchend', function(e) {if (plannerIsDown==false) {plannerccpmenu.retract(0);}plannerIsDown=false;if (event.stopPropagation) {event.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}event.preventDefault();});
$('.abmhc').off('mouseup touchend').on('mouseup touchend', function(e) {plannernamenu.retract(0);if (plannerSleeping) return;if (abmdragging) return;var el = $(this);var parentel = el.closest('.abmplannerwrapper');var parent = parentel.attr('id');var ename = parentel.attr('eName');plannerIsDown = false;if (parentel.data('viewtype') == 'nw') {if (el.find('.abmhidden').length != 0) {plannerccpmenu.retract(0);var day = el.closest('.abmplannerdaynw').data('day');var act = $('#' + parent).find('.abmactivenw');act.find('.abmhour').removeClass('abmactivenw');act.find('.abmwho').addClass('abmhidden');act.removeClass('abmactivenw');var dayel = $('#' + parent).find('[data-day="' + day + '"]');dayel.addClass('abmactivenw');dayel.find('.abmwho').removeClass('abmhidden');dayel.find('.abmhour').addClass('abmactivenw');var days={'MA': 0,'DI': 1,'WO': 2,'DO': 3,'VR': 4,'ZA': 5,'ZO': 6};planners[parent]=days[day];b4j_raiseEvent('page_parseevent', {'eventname': ename + '_activedaychanged','eventparams': 'day','day': days[day]});} else {if (((e.timeStamp - plannerStartTime) < 350)) {if (plannerTimer) {clearTimeout(plannerTimer);}if ($(".plannerccpmenu-container").attr('isopen') == 'true') {plannerccpmenu.retract(0);}var status = 0;if (el.closest('.abmhr').hasClass('abmna')) {status += 1;};var value = el.data('val');var taskid = el.attr('data-id');if (taskid != '') {status += 2;} else {taskid = 'FREE';}b4j_raiseEvent('page_parseevent', {'eventname': ename + '_minutesclicked','eventparams': 'value','value': '0;' + value + ';' + status + ';' + taskid});}}} else {if (el.find('.abmhidden').length != 0) {plannerccpmenu.retract(0);var day = el.closest('.abmplannerday').data('day');var act = $('#' + parent).find('.abmactive');act.removeClass('abmactive');act.find('.abmwho').addClass('abmhidden');act.removeClass('abmactive');var dayel = $('#' + parent).find('[data-day="' + day + '"]');dayel.addClass('abmactive');dayel.find('.abmwho').removeClass('abmhidden');dayel.find('.abmhour').addClass('abmactive');var days={'MA': 0,'DI': 1,'WO': 2,'DO': 3,'VR': 4,'ZA': 5,'ZO': 6};planners[parent]=days[day];b4j_raiseEvent('page_parseevent', {'eventname': ename + '_activedaychanged','eventparams': 'day','day': days[day]});} else {if (((e.timeStamp - plannerStartTime) < 350)) {if (plannerTimer) {clearTimeout(plannerTimer);}if ($(".plannerccpmenu-container").attr('isopen') == 'true') {plannerccpmenu.retract(0);}var status = 0;if (el.closest('.abmhr').hasClass('abmna')) {status += 1;};var value = el.data('val');var taskid = el.attr('data-id');if (taskid != '') {status += 2;} else {taskid = 'FREE';}b4j_raiseEvent('page_parseevent', {'eventname': ename + '_minutesclicked','eventparams': 'value','value': '0;' + value + ';' + status + ';' + taskid});}}}PositionPlanner(el, parent);if (event.stopPropagation) {event.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}event.preventDefault();});
$('.abmhour').off('mouseup touchend').on('mouseup touchend', function(event) {plannerccpmenu.retract(0);if (plannerSleeping) return;plannercurrday = '';plannercurrhour = '';if (abmdragging) return;var el = $(this);var parentel = el.closest('.abmplannerwrapper');var parent = parentel.attr('id');var ename = parentel.attr('eName');if (parentel.data('viewtype') == 'nw') {if (el.hasClass('abmactivenw')) {if ($(".plannernamenu-container").css('display')=='none') {plannercurrhour = $(this).attr('data-dayhr');plannernamenu.expand(el, event);} else {plannernamenu.retract(150);}} else {plannernamenu.retract(0);var day = el.closest('.abmplannerdaynw').data('day');var act = $('#' + parent).find('.abmactivenw');act.find('.abmhour').removeClass('abmactivenw');act.find('.abmwho').addClass('abmhidden');act.removeClass('abmactivenw');var dayel = $('#' + parent).find('[data-day="' + day + '"]');dayel.addClass('abmactivenw');dayel.find('.abmwho').removeClass('abmhidden');dayel.find('.abmhour').addClass('abmactivenw');var days={'MA': 0,'DI': 1,'WO': 2,'DO': 3,'VR': 4,'ZA': 5,'ZO': 6};planners[parent]=days[day];b4j_raiseEvent('page_parseevent', {'eventname': ename + '_activedaychanged','eventparams': 'day','day': days[day]});}} else {if (el.hasClass('abmactive')) {if ($(".plannernamenu-container").css('display')=='none') {plannercurrhour = $(this).attr('data-dayhr');plannernamenu.expand(el, event);} else {plannernamenu.retract(150);}} else {plannernamenu.retract(0);var day = el.closest('.abmplannerday').data('day');var act = $('#' + parent).find('.abmactive');act.find('.abmhour').removeClass('abmactive');act.find('.abmwho').addClass('abmhidden');act.removeClass('abmactive');var dayel = $('#' + parent).find('[data-day="' + day + '"]');dayel.addClass('abmactive');dayel.find('.abmwho').removeClass('abmhidden');dayel.find('.abmhour').addClass('abmactive');var days={'MA': 0,'DI': 1,'WO': 2,'DO': 3,'VR': 4,'ZA': 5,'ZO': 6};planners[parent]=days[day];b4j_raiseEvent('page_parseevent', {'eventname': ename + '_activedaychanged','eventparams': 'day','day': days[day]});}}PositionPlanner(el, parent);if (event.stopPropagation) {event.stopPropagation();} else if (window.event) {window.event.cancelBubble = true;}event.preventDefault();});
}
function PositionPlanner(el, parent) {var scr = el.closest('.abmplannerwrapper');var wrleft = scr.position().left;scr = scr.find('.abmplannerscroller');if (!el.hasClass('abday')) {el = el.closest('[data-day]');var day = el.data('day');el = $('#' + parent).find('[data-day="' + day + '"]');}scr.scrollLeft(Math.abs(el.position().left+scr.scrollLeft())-wrleft);}function ResizePlanner() {$('.abmplannerwrapper').each(function() {var planid = $(this).attr('id');var parWidth=$('#' + planid + 'daywrapper').parent().parent().parent().width();if (Math.max( $(window).width(), window.innerWidth)>=801) {$('#' + planid + 'daywrapper').width(parWidth-27);$('#' + planid + 'daywrapper').css('margin-left','0px');$('#' + planid + 'planner').width(parWidth-25);$('#' + planid + 'plannerparent').width(parWidth);$('#' + planid + 'plannerparent').off('scroll');} else {$('#' + planid + 'daywrapper').width(parWidth*2);$('#' + planid + 'planner').width(parWidth*2);$('#' + planid + 'plannerparent').width(parWidth);$('#' + planid + 'plannerparent').off('scroll').on('scroll', function() {$('#' + planid + 'daywrapper').css('margin-left',-$('#' + planid + 'plannerparent').scrollLeft() + 'px');plannernamenu.retract(0);plannerccpmenu.retract(0);});}});}
function SPDE(parent, day) {var ocss = $('#' + parent).find('[data-day="' + day + '"]').find('.abmocc');ocss.find("p").html('&nbsp;');ocss.attr('data-id', '');ocss.attr('data-th', '');ocss.removeClass('abmocc');for (var k=0;k<20;k++) {ocss.removeClass('abmocc' + k);}}
function SPE(parent) {SPDE(parent, 'MA');SPDE(parent, 'DI');SPDE(parent, 'WO');SPDE(parent, 'DO');SPDE(parent, 'VR');SPDE(parent, 'ZA');SPDE(parent, 'ZO');}
function SPDNA(parent, day) {var ocss = $('#' + parent).find('[data-day="' + day + '"]').find('.abmhc');ocss.addClass('abmna');}
function SPDA(parent, day) {var ocss = $('#' + parent).find('[data-day="' + day + '"]').find('.abmhc');ocss.removeClass('abmna');}
function SPHNA(parent, day, hour) {var ocss = $('#' + parent).find('[data-day="' + day + '"]').find('[data-hour="' + hour + '"]').find('.abmhc');ocss.addClass('abmna');}
function SPHA(parent, day, hour) {var ocss = $('#' + parent).find('[data-day="' + day + '"]').find('[data-hour="' + hour + '"]').find('.abmhc');ocss.removeClass('abmna');}
function PlannerDoAction(parent) {var days=['MA','DI','WO','DO','VR','ZA','ZO'];if (plannerAction!='') {var spl = plannerAction.split(';');switch (spl[0]) {case '1':switch (spl[1]) {case 'day':SPDA(parent, days[spl[2]]);break;case 'hour':SPHA(parent, days[spl[2]], spl[3]);break;}break;case '2':switch (spl[1]) {case 'day':SPDNA(parent, days[spl[2]]);break;case 'hour':SPHNA(parent, days[spl[2]], spl[3]);break;}break;}}}function SPT(day, id, first, last, text, theme) {var el = document.getElementById(plannerID + 'min' + day + first);el.className += ' abmocc abmocc' + theme + ' ';el.setAttribute('data-id', id);el.setAttribute('data-th', theme);document.getElementById(plannerID + 'txt' + day + first).innerHTML = text;for (var i = first + 1; i <= last; i++) {var el = document.getElementById(plannerID + 'min' + day + i);el.className += ' abmocc abmocc' + theme + ' ';el.setAttribute('data-id', id);el.setAttribute('data-th', theme);document.getElementById(plannerID + 'txt' + day + i).innerHTML = '&larr;';}};
function SPAD(viewtype, day) {if (oldActiveDay!=planners[plannerID]) {var days=['MA','DI','WO','DO','VR','ZA','ZO'];var f1 = $('#' + plannerID).find('.abmactivenw');var f2 = $('#' + plannerID).find('[data-day="' + days[day] + '"]');if (viewtype=='nw') {f1.find('.abmhour').removeClass('abmactivenw');f1.find('.abmwho').addClass('abmhidden');f1.removeClass('abmactivenw');f2.addClass('abmactivenw');f2.find('.abmwho').removeClass('abmhidden');f2.find('.abmhour').addClass('abmactivenw');} else {f1.find('.abmhour').removeClass('abmactive');f1.find('.abmwho').addClass('abmhidden');f1.removeClass('abmactive');f2.addClass('abmactive');f2.find('.abmwho').removeClass('abmhidden');f2.find('.abmhour').addClass('abmactive');}PositionPlanner(f2, plannerID);}};
function reinitmaterialbox(id) {$('#' + id).materialbox();}
function reinitcollapsable(id) {initcollapse(id);}
function reinitdropdown(id) {$(".dropdown-button").dropdown();}
function reinitinputfields() {InitEditEnterFields();TextAreaAllResize();$('.dropdown-button2').dropdown2();}
function inittooltipped(id){$('#' + id).tooltip({delay:50});};function replacemewith(id,html) {$('#' + id).replaceWith(html);}function replacemeinnerwith(id,html) {$('#' + id).html(html);}function initboxed(){$('.materialboxed').materialbox();};function inittooltipped(){$('.tooltipped').tooltip({delay:50});};function initcollapse(id){setactiveheaders(gahret);$('#' + id).collapsible();};function initdropdown(){$('.dropdown-button2').dropdown2();};function SetDisabled(item, b) {$('#' + item).prop('disabled', b)}function SetChecked(item, b) {$('#' + item).prop('checked', b)}function EmptyMe(id) {$('#' + id).empty();}function RemoveMe(id) {$('#' + id).remove();}function RemoveBubbles(id) {$('.bubble-typing'+id).remove();}function RemoveMeParent(id) {$('#' + id).parent().remove();}function AddHTMLPageComponent(html) {$('main').append(html);}function AddHTML(parentid, html) {$('#' + parentid).append(html);}function AddHTMLToMain(html) {$('main').append(html);}function InsertHTMLAfter(parentid, html) {$(html).insertAfter($('#' + parentid));}function InsertHTMLBefore(parentid, html) {$(html).insertBefore($('#' + parentid));}function AddClass(id, cl) {$('#' + id).addClass(cl);}function RemoveClass(id, cl) {$('#' + id).removeClass(cl);}function RunToast(duration, rounded, html, extra, backgroundcolor) {Materialize.toast(html, duration, rounded, function(){b4j_raiseEvent('page_parseevent',{'eventname':'page_toastdismissed','eventparams':'toastid','toastid':extra})});$('#' + extra).parent().css('background-color', backgroundcolor);}function RunToastNoConnection(counter) {Materialize.toast('<span id="toasterror' + counter + '" class="white-text">No connection!</span>',5000,'rounded');$('#toasterror'+counter).parent().css('background-color','#FF0000');}function toastclick(extra, butid) {b4j_raiseEvent('page_parseevent', {'eventname':'page_toastclicked','eventparams':'toastid,action','toastid':extra,'action':butid});}function dismisstoast(toastid) {Vel($('#' + toastid).parent(), {'opacity':0,marginTop:'-40px'},{duration:375,easing:'easeOutExpo',queue:false,complete:function(){$('#' + toastid).parent().remove();}});}function navclick(page, item, url) {if (item!='togglefullscreen') {if ($('#sidenavbutton').is(':visible')) {$('.button-collapse').sideNav('hide');}b4j_raiseEvent('page_parseevent', {'eventname': 'page_navigationbarclicked','eventparams': 'action,value', 'action': item, 'value': url});}}function SetProperty(id, name, value) {$('#' + id).attr(name, value);}function GetProperty(id, name) {return $('#' + id).attr(name);}function SetCSS(id, name, value) {$('#' + id).css(name, value);}function GetCSS(id, name) {return $('#' + id).css(name);}function RemoveProperty(id, name) {$('#' + id).removeAttr(name);}function ShowModal(id, dismissible, size) {initdropdown();InitEditEnterFields();$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).openModal({'dismissible': dismissible, 'end_top': size, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function ShowModalRelativeCell(id, dismissible, tlcellid, cellwidth) {initdropdown();InitEditEnterFields();var tlcell=$('#' + tlcellid);var mleft=tlcell.offset().left;var mtop=tlcell.offset().top;var windowHeight;if (self.innerHeight) {windowHeight = self.innerHeight;} else if (document.documentElement && document.documentElement.clientHeight) {windowHeight = document.documentElement.clientHeight;} else if (document.body) {windowHeight = document.body.clientHeight;}if ((tlcell[0].getBoundingClientRect().top+tlcell.height()/2)>windowHeight/2) {mtop-=$('#' + id).height();} else {mtop+=tlcell.height();}var mwidth=tlcell.outerWidth();var counter=1;tlcell.siblings().each(function() {if ((counter<cellwidth) && (tlcellid<$(this).attr('id'))) {mwidth+=$(this).outerWidth();counter++;}});$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).css({position: 'absolute',margin: 0, left: mleft, width: mwidth});$('#' + id).openModal({'dismissible': dismissible, 'end_top': mtop, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$('body').css('overflow', '');$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function ShowModalRelativeComponent(id, dismissible, tlcellid, fixedwidth) {initdropdown();InitEditEnterFields();var tlcell=$('#' + tlcellid);var mleft=tlcell.offset().left;var mtop=tlcell.offset().top;var windowHeight;if (self.innerHeight) {windowHeight = self.innerHeight;} else if (document.documentElement && document.documentElement.clientHeight) {windowHeight = document.documentElement.clientHeight;} else if (document.body) {windowHeight = document.body.clientHeight;}if ((tlcell[0].getBoundingClientRect().top+tlcell.height()/2)>windowHeight/2) {mtop-=$('#' + id).height();} else {mtop+=tlcell.height();}$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).css({position: 'absolute',margin: 0, left: mleft, width: fixedwidth});$('#' + id).openModal({'dismissible': dismissible, 'end_top': mtop, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$('body').css('overflow', '');$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function ShowModalAbsolute(id, dismissible, mleft, mtop, mwidth, mheight) {initdropdown();InitEditEnterFields();$('#' + id + '_modalcontent').animate({ scrollTop: 0 }, 'fast');$('#' + id).css({margin: 0, left: mleft, width: mwidth, height: mheight});$('#' + id).openModal({'dismissible': dismissible, 'end_top': mtop, 'complete': function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});$(window).trigger('resize');Materialize.updateTextFields();}function ReShowModal(id) {initdropdown();InitEditEnterFields();$(window).trigger('resize');$('#' + id).focus();Materialize.updateTextFields();}function CloseModal(id) {$('#' + id).closeModal({complete: function() {b4j_raiseEvent('page_parseevent', {'eventname':  'page_modalsheetdismissed','eventparams': 'modalsheetname', 'modalsheetname': id});}});}function fadeinimg(id) {Materialize.fadeInImage('#' + id);}function buttonclickarray(event, par, arrayname, button) {if($('#' + par + arrayname + button).hasClass('disabled')) {return;}if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': button + '_clicked','eventparams': 'target', 'target': button});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': button});}}function labelclickarray(event, par, arrayname, label) {if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': label + '_clicked','eventparams': 'target', 'target': label});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': label});}}function imageclickarray(event, par, arrayname, image) {if($('#' + par + arrayname + image).hasClass('disabled')) {return;}if (arrayname=='') {b4j_raiseEvent('page_parseevent', {'eventname': image + '_clicked','eventparams': 'target', 'target': image});} else {b4j_raiseEvent('page_parseevent', {'eventname': arrayname + '_clicked','eventparams': 'target', 'target': image});}}function imagetogglearray(event, par, id, state, src, src2) {if($('#' + par + id).hasClass('disabled')) {return;}$('#' + par + id).attr('abmtoggle', state);$('#' + par + id).attr('src', src);if (state=='0') {$('#' + par + id).attr('onclick', "imagetogglearray(event,'" + par + "','" + id + "','1','" + src2 + "','" + src + "')");} else {$('#' + par + id).attr('onclick', "imagetogglearray(event,'" + par + "','" + id + "','0','" + src2 + "','" + src + "')");}};function inputscrollintofocus(id,smooth) {if (smooth=='0') {$('#' + id).scrollIntoView(false);} else {$('#' + id).scrollIntoView();}}
function tablescrollto(tableid, uniqueid, smooth) {var inner = tableid + '_innerbody';var ypos = $('#' + inner).find('[uniqueid="' + uniqueid + '"]').offset().top;if (smooth=='0') {$('#' + inner).scrollTop($('#' + inner).scrollTop()+ypos);} else {$('#' + inner).animate({scrollTop: $('#' + inner).scrollTop()+ypos}, 300);}}
function inputsetfocus(id) {$('#' + id).focus();}
var gahret=[];function getactiveheaders(id) {gahret=[];$('#' + id).children('li').children('div').each(function () {if ($(this).hasClass('active')){gahret.push($(this).attr('id'));}});};function setactiveheaders(gahret) {var arrayLength = gahret.length;for (var i = 0; i < arrayLength; i++) {$('#' + gahret[i]).addClass('active');$('#' + gahret[i]).addClass('active2');}};function HasClass(id, cl) {var ret='false';if ($('#' + id).hasClass(cl)) {ret='true';}return ret;};function TextAreaResize(item) {$('#' + item).trigger('autoresize')};function TextAreaAllResize() {$('.materialize-textarea').trigger('autoresize')};function saveinlocalstorage(app,login,pwd) {if(typeof(Storage) !== "undefined") {localStorage.setItem('abm' + app + 'login', login);localStorage.setItem('abm' + app + 'pwd', pwd);}};function loadfromlocalstorage(app) {if(typeof(Storage) !== "undefined") {var v1=localStorage.getItem('abm' + app + 'login');var v2=localStorage.getItem('abm' + app + 'pwd');if (v1!==null && v2!==null && v1!=='undefined' && v2!=='undefined' && v1!=='' && v2!=='') {return localStorage.getItem('abm' + app + 'login') + ';' + localStorage.getItem('abm' + app + 'pwd');}}return '';};function clearlocalstorage(app) {if(typeof(Storage) !== "undefined") {localStorage.removeItem('abm' + app + 'login');localStorage.removeItem('abm' + app + 'pwd');}};function customsaveinlocalstorage(key,value) {if(typeof(Storage) !== "undefined") {localStorage.setItem(key, value);}};function customloadfromlocalstorage(key) {if(typeof(Storage) !== "undefined") {return localStorage.getItem(key);}};function customdeletefromlocalstorage(key) {if(typeof(Storage) !== "undefined") {localStorage.removeItem(key);}};function getbrowserwidthheight() {return window.outerWidth+';'+window.outerHeight;};function selectElementContents(el) {var range = document.createRange();range.selectNodeContents(el);var sel = window.getSelection();sel.removeAllRanges();sel.addRange(range);};function InitEditEnterFields() {$('input').off('keydown').on('keydown', function(e) {if (e.keyCode == "undefined") { return };var codeToExecute = 'return ' + $(this).attr('evname') + '_b4jskeydown("' + $(this).val() + '",' + e.keyCode + ')';var tmpFunc = new Function(codeToExecute);var fret=false;try { fret = tmpFunc()} catch(err) {}});$('input').off('keyup').on('keyup', function(e) {if (e.keyCode == "undefined") { return };var codeToExecute = 'return ' + $(this).attr('evname') + '_b4jskeyup("' + $(this).val() + '",' + e.keyCode+ ')';var tmpFunc = new Function(codeToExecute);var fret=false;try { fret = tmpFunc()} catch(err) {}if (fret==false) {var done=false;if (e.keyCode==9) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_tabpressed','eventparams': 'target,value', 'target':$(this).attr('evname') ,'value':$(this).val()});done=true;}if(e.keyCode==13) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_enterpressed','eventparams': 'value', 'value':$(this).val()});done=true;}if (done==false) {if ($(this).hasClass('raisechanged')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});}if ($(this).hasClass('raisechangedcheck')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});if ($(this).hasClass('validateabm')) {$(this).removeClass("invalid");$(this).removeClass("valid");if ($(this).val().length==0) {$(this).addClass("invalid");} else {$(this).addClass("valid");}};}}}});$('input').off('change paste').on('change paste', function(e) {if (e.keyCode == "undefined") { return };var codeToExecute = 'return ' + $(this).attr('evname') + '_b4jschanged("' + $(this).val() + '")';var tmpFunc = new Function(codeToExecute);var fret=false;try { fret = tmpFunc()} catch(err) {}if (fret==false) {if ($(this).hasClass('raisechanged')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});}if ($(this).hasClass('raisechangedcheck')) {b4j_raiseEvent('page_parseevent', {'eventname': $(this).attr('evname') + '_changed','eventparams': 'value', 'value':$(this).val()});if ($(this).hasClass('validateabm')) {$(this).removeClass("invalid");$(this).removeClass("valid");if ($(this).val().length==0) {$(this).addClass("invalid");} else {$(this).addClass("valid");}};}}});}$.fn.dropdown2=function(t){};